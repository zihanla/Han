/* ================================
 * 中文博客主题 - 温暖纸质风
 * 参考: hsuyeung.com + Typo.css
 * ================================ */

:root {
  /* --- 温暖纸质配色 --- */
  --bg-body: #e9dec8; /* 外部背景 - 温暖米黄色 */
  --bg-paper: #faf5e3; /* 内部容器背景 - 淡米黄 */
  --bg-card: #faf5e3; /* 卡片底色 */
  --bg-code: #f4d03f; /* 代码块背景 - 明黄色 */
  --bg-code-block: #fcf8e3; /* 代码段背景 */

  --ink-primary: #2e2e2e; /* 主文字色 - 柔和深灰 */
  --ink-secondary: #757575; /* 次要文字 - 中灰 */
  --ink-tertiary: #999999; /* 辅助信息 - 浅灰 */
  --ink-heading: #2e2e2e; /* 标题颜色 - 深灰 */

  --accent-color: #d4795b; /* 强调色 - 温暖橙棕 */
  --accent-hover: #c56848; /* 强调色悬停 - 深橙棕 */
  --accent-yellow: #f4d03f; /* 强调黄色 */

  --border-color: #c9c9c9; /* 边框颜色 - 中灰（加深） */
  --border-solid: #c9c9c9; /* 实线边框 */
  --shadow-card: rgba(0, 0, 0, 0.08); /* 卡片阴影 - 稍深 */

  /* --- 字体系统 --- */
  --font-sans: "SF Pro SC", "PingFang SC", -apple-system, BlinkMacSystemFont,
    "Hiragino Sans GB", STXihei, "Microsoft YaHei", Heiti, sans-serif;
  --font-serif: "Noto Serif SC", "Source Han Serif SC", "Songti SC", serif;
  --font-mono: "Consolas", "Menlo", "Monaco", "Courier New", monospace;

  /* --- 间距系统 --- */
  --space-xs: 0.8rem;
  --space-sm: 1.2rem;
  --space-md: 2rem;
  --space-lg: 3rem;
  --space-xl: 4.5rem;

  /* --- 手绘风格 --- */
  --card-border-radius: 255px 15px 225px 15px / 15px 225px 15px 255px;
  --border-width: 0.1rem;
}

/* ================================
 * 基础重置
 * ================================ */

* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

html {
  /* 1 rem = 10 px */
  font-size: 62.5%;
  width: 100%;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

body {
  font-family: var(--font-sans);
  font-size: 1.7rem;
  line-height: 1.7;
  color: var(--ink-primary);
  background-color: var(--bg-body);

  /* 字体渲染优化 */
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: subpixel-antialiased;
  -moz-osx-font-smoothing: grayscale;

  width: 100%;
}

p {
  letter-spacing: 0.05rem;
}

/* ================================
 * 链接样式
 * ================================ */

a:link,
a:visited {
  color: var(--accent-color);
  text-decoration: none;
  transition: color 0.2s ease;
}

a:hover {
  color: var(--accent-hover);
  text-decoration: none;
}

/* ================================
 * 布局容器
 * ================================ */

.main-container {
  display: block;
  background-color: var(--bg-paper);
  margin: 0 auto;
  padding: var(--space-xl) 5.5rem;
  position: relative;
}

/* 隐藏元素的通用类 */
.visually-hidden {
  visibility: hidden;
  pointer-events: none;
}

/* ================================
 * 分页导航
 * ================================ */

.pagination {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: var(--space-lg);
  padding-top: var(--space-md);
  border-top: 0.1rem solid var(--border-solid);
}

.page-nav {
  font-family: var(--font-sans);
  font-size: 1.5rem;
  color: var(--ink-secondary);
  padding: 0.8rem 1.5rem;
  border: 0.1rem solid var(--border-color);
  border-radius: 0.4rem;
  transition: all 0.2s;
}

.page-nav:hover:not(.disabled) {
  border-color: var(--accent-color);
  color: var(--accent-color);
  transform: translateY(-0.1rem);
}

.page-nav.disabled {
  opacity: 0.4;
  cursor: not-allowed;
  border-color: var(--border-color);
}

.page-number {
  font-family: var(--font-sans);
  color: var(--ink-tertiary);
  font-size: 1.4rem;
}

/* ================================
 * 文章详情页
 * ================================ */

.post-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 2.8rem;
  padding-bottom: 1.5rem;
  border-bottom: 0.1rem solid var(--border-solid);
  margin-top: 0;
}

.post-title {
  font-size: 2.9rem;
  font-weight: 600;
  color: var(--ink-heading);
  margin: 0;
  line-height: 1.35;
  flex: 1;
  margin-right: var(--space-md);
}

.post-meta {
  font-family: var(--font-sans);
  font-size: 1.5rem;
  white-space: nowrap;
  color: var(--ink-secondary);
}

.post-content {
  font-size: 1.7rem;
  line-height: 1.8;
}

.post-content p {
  margin-bottom: 1.2em;
}

/* ================================
 * Markdown 标题样式 (参考 Typo.css)
 * ================================ */

.post-content h1 {
  font-size: 3.3rem;
  font-weight: 500;
  color: var(--ink-heading);
  margin-top: 3rem;
  margin-bottom: 1rem;
  line-height: 1.35;
}

.post-content h2 {
  font-size: 2.9rem;
  font-weight: 500;
  color: var(--ink-heading);
  margin-top: 3rem;
  margin-bottom: 1rem;
  line-height: 1.35;
}

.post-content h3 {
  font-size: 2.4rem;
  font-weight: 500;
  color: var(--ink-heading);
  margin-top: 3rem;
  margin-bottom: 1rem;
  line-height: 1.35;
}

.post-content h4 {
  font-size: 2.1rem;
  font-weight: 500;
  color: var(--ink-heading);
  margin-top: 3rem;
  margin-bottom: 1rem;
  line-height: 1.35;
}

.post-content h5 {
  font-size: 1.7rem;
  font-weight: 500;
  color: var(--ink-heading);
  margin-top: 3rem;
  margin-bottom: 1rem;
  line-height: 1.35;
}

.post-content h6 {
  font-size: 1.5rem;
  font-weight: 500;
  color: var(--ink-heading);
  margin-top: 3rem;
  margin-bottom: 1rem;
  line-height: 1.35;
}

/* ================================
 * 分割线样式
 * ================================ */

.post-content hr {
  border: none;
  border-bottom: 0.1rem solid var(--border-solid);
  color: var(--border-solid);
  height: 0.4rem;
  padding: 0;
  margin: 3rem 0;
}

/* ================================
 * 图片样式
 * ================================ */

.post-content img {
  max-width: 100%;
  height: auto;
  display: block;
  margin: 3rem auto;
  border-radius: 0.5rem;
}

.post-content figure {
  width: 100%;
  margin: 3rem auto;
}

.post-content figure img {
  margin: 0 auto;
}

.post-content figcaption {
  margin: 1.5rem auto;
  color: var(--ink-tertiary);
  text-align: center;
  font-size: 1.3rem;
  display: none; /* 隐藏图片标题 */
}

/* ================================
 * 列表样式 (参考 Typo.css)
 * ================================ */

.post-content ul,
.post-content ol {
  margin: 1.2em 0;
  padding-left: 3rem;
  line-height: 1.7;
}

.post-content ul {
  list-style: disc;
}

.post-content ol {
  list-style: decimal;
}

.post-content li {
  margin-bottom: 0.5em;
}

.post-content li ul,
.post-content li ol {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

.post-content ul ul {
  list-style-type: circle;
}

/* ================================
 * 代码块样式
 * ================================ */

.post-content pre {
  margin: 2rem 0;
  padding: 1.5rem 1.8rem;
  background: var(--bg-code-block);
  border: 0.1rem solid var(--border-color);
  border-radius: 0.5rem;
  overflow-x: auto;
  line-height: 1.4;
}

.post-content pre code {
  font-family: var(--font-mono);
  font-size: 1.4rem;
  line-height: 1.4;
  color: var(--ink-primary);
  background: transparent;
  padding: 0;
  border-radius: 0;
}

/* 行内代码 */
.post-content code:not(pre code) {
  font-family: var(--font-mono);
  font-size: 1.4rem;
  padding: 0.2rem 0.5rem;
  background: var(--bg-code);
  border-radius: 0.5rem;
  color: var(--ink-primary);
}

/* ================================
 * 引用块样式
 * ================================ */

.post-content blockquote {
  position: relative;
  margin: 2.5rem auto;
  padding: 0 1.6rem;
  border-left: 0.4rem solid var(--accent-yellow);
  color: var(--ink-secondary);
  font-weight: 400;
}

.post-content blockquote p {
  margin-bottom: 0.5em;
}

.post-content blockquote p:last-child {
  margin-bottom: 0;
}

/* ================================
 * 表格样式
 * ================================ */

.post-content table {
  display: block;
  width: 100%;
  margin: 2rem 0;
  padding: 0;
  border-collapse: collapse;
  border-spacing: 0;
  overflow: auto;
}

.post-content table tr {
  border-top: 0.1rem solid var(--border-color);
}

.post-content th {
  padding: 0.6rem 1.3rem;
  text-align: left;
  font-weight: 600;
  border: 0.1rem solid var(--border-color);
}

.post-content td {
  padding: 0.6rem 1.3rem;
  border: 0.1rem solid var(--border-color);
}

.post-content td :first-child,
.post-content th :first-child {
  margin-top: 0;
}

.post-content td :last-child,
.post-content th :last-child {
  margin-bottom: 0;
}

/* ================================
 * 强调样式
 * ================================ */

.post-content strong,
.post-content b {
  font-weight: bold;
  color: var(--ink-heading);
}

.post-content em {
  font-style: italic;
}

.post-content mark {
  background: #fffdd1;
  border-bottom: 0.1rem solid #ffedce;
  padding: 0.2rem;
  margin: 0 0.5rem;
}

/* ================================
 * 链接样式
 * ================================ */

.post-content a:link,
.post-content a:visited {
  color: var(--accent-color);
  text-decoration: none;
  border-bottom: 0.1rem solid var(--accent-color);
  transition: all 0.2s ease;
}

.post-content a:hover {
  color: var(--ink-heading);
  border-bottom-color: var(--ink-heading);
  text-decoration: none;
}

/* ================================
 * 导航栏 (仅首页显示)
 * ================================ */

.site-header {
  margin-bottom: var(--space-lg);
  padding: 0 0 var(--space-sm) 0;
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* 列表页header带分割线（归档、碎语等） */
.site-header.with-border {
  border-bottom: 0.1rem solid var(--border-solid);
  padding-bottom: var(--space-md);
}

.simple-nav {
  display: flex;
  align-items: baseline;
  gap: var(--space-md);
  font-size: 1.6rem;
}

/* 网站标题 */
.site-title {
  font-weight: 600;
  font-size: 2.2rem;
  margin: 0;
  line-height: 1.2;
  color: var(--ink-heading);
}

.site-title a:link,
.site-title a:visited {
  color: var(--ink-heading);
  transition: color 0.2s ease;
  border: none;
}

.site-title a:hover {
  color: var(--accent-color);
}

.simple-nav a:link,
.simple-nav a:visited {
  color: var(--ink-secondary);
  font-size: 1.6rem;
  position: relative;
}

.simple-nav a:hover {
  color: var(--accent-color);
}

.simple-nav a.active {
  color: var(--accent-color);
  font-weight: 600;
}

/* 文章页返回链接 */
.back-link {
  display: inline-block;
  font-size: 1.6rem;
  color: var(--ink-secondary);
  text-decoration: none;
  transition: color 0.2s ease;
  border: none;
}

.back-link:hover {
  color: var(--accent-color);
}

/* ================================
 * 时间轴列表
 * ================================ */

.timeline-container {
  display: flex;
  flex-direction: column;
  gap: var(--space-md);
}

.timeline-card {
  position: relative;
  padding: var(--space-md) 2.5rem;
  border: var(--border-width) solid var(--border-color);
  border-radius: var(--card-border-radius); /* 手绘风格不规则圆角 */
  background: var(--bg-card);
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;
  box-shadow: 0.3rem 0.3rem 0 var(--shadow-card); /* 手绘阴影 */

  display: flex;
  justify-content: space-between;
  align-items: baseline;
  gap: var(--space-md);
}

.timeline-card:hover {
  transform: translate(-0.2rem, -0.2rem);
  box-shadow: 0.5rem 0.5rem 0 var(--shadow-card); /* 悬停时阴影更明显 */
}

.card-content {
  flex: 1;
  min-width: 0;
}

.timeline-title {
  font-size: 1.8rem;
  font-weight: 500;
  color: var(--ink-primary);
  margin: 0;
  line-height: 1.5;
}

.timeline-content {
  font-size: 1.6rem;
  color: var(--ink-secondary);
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3;
  line-clamp: 3;
  overflow: hidden;
  line-height: 1.7;
  margin-top: 0.5rem;
}

.card-meta {
  flex-shrink: 0;
}

.time-tag {
  font-family: var(--font-sans);
  font-size: 1.3rem;
  color: var(--ink-tertiary);
  white-space: nowrap;
}

/* ================================
 * 页面标题样式（归档页、碎语页等）
 * ================================ */

.page-header {
  margin-bottom: var(--space-md);
  padding-bottom: var(--space-sm);
  border-bottom: 0.1rem solid var(--border-solid);
}

.page-title {
  font-size: 2.9rem;
  font-weight: 600;
  color: var(--ink-heading);
  margin: 0;
  line-height: 1.35;
}

/* ================================
 * 归档页样式
 * ================================ */

.archive-card {
  background: var(--bg-paper);
  padding: var(--space-md);
}

.archive-title {
  font-size: 2.9rem;
  font-weight: 600;
  color: var(--ink-heading);
  margin: 0 0 var(--space-md) 0;
  padding-bottom: var(--space-sm);
  border-bottom: 0.1rem solid var(--border-solid);
}

.archive-list {
  display: flex;
  flex-direction: column;
  gap: var(--space-sm);
}

.archive-item {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  padding: var(--space-xs) 0;
  border-bottom: 0.1rem dashed var(--border-color);
}

.archive-item:last-child {
  border-bottom: none;
}

.archive-item a {
  flex: 1;
  color: var(--ink-primary);
  font-size: 1.6rem;
  transition: color 0.2s;
  border: none;
}

.archive-item a:hover {
  color: var(--accent-color);
}

.archive-date {
  font-family: var(--font-sans);
  font-size: 1.3rem;
  color: var(--ink-tertiary);
  white-space: nowrap;
  margin-left: var(--space-md);
}

/* ================================
 * 碎语页面
 * ================================ */

.journal-item {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: var(--space-md);
  padding: 2.5rem 0;
  border-bottom: 0.1rem solid var(--border-color);
}

.journal-item:last-child {
  border-bottom: none;
}

.journal-content {
  flex: 1;
  font-size: 1.6rem;
  color: var(--ink-primary);
  line-height: 1.7;
}

.journal-content p {
  margin-bottom: 1.2em;
}

.journal-content p:last-child {
  margin-bottom: 0;
}

.journal-meta {
  flex-shrink: 0;
  display: flex;
  align-items: flex-start;
  padding-top: 0.2rem;
}

.journal-date {
  font-family: var(--font-sans);
  font-size: 1.3rem;
  color: var(--ink-tertiary);
  white-space: nowrap;
}

/* ================================
 * Footer 底部
 * ================================ */

.site-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-top: var(--space-md);
  padding-top: 1.5rem;
  padding-bottom: 1.5rem;
  font-family: var(--font-sans);
  font-size: 1.3rem;
  color: var(--ink-tertiary);
}

.site-footer a {
  color: var(--ink-tertiary);
  border: none;
}

.site-footer a:hover {
  color: var(--accent-color);
}

/* ================================
 * 响应式优化
 * ================================ */

/* 桌面端 */
@media (min-width: 1281px) {
  .main-container {
    max-width: 74.8rem;
    box-shadow: 0 0.5rem 1rem 0.4rem var(--shadow-card);
    margin: 2.2rem auto; /* 上下都有间距 */
  }
}

@media (min-width: 1921px) {
  .main-container {
    max-width: 102.4rem;
    box-shadow: 0 0.5rem 1rem 0.4rem var(--shadow-card);
    margin: 2.2rem auto; /* 上下都有间距 */
  }
}

/* 移动端适配 */
@media (max-width: 700px) {
  body {
    font-size: 1.8rem;
  }

  .main-container {
    max-width: 100%;
    padding: 1.5rem;
  }

  .timeline-card {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
    padding: 1.8rem;
  }

  .card-meta {
    align-self: flex-end;
  }

  .timeline-title {
    font-size: 1.8rem;
  }

  .post-title {
    font-size: 2.4rem;
  }

  .post-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.8rem;
  }

  .post-meta {
    align-self: flex-end;
  }

  .post-content {
    font-size: 1.8rem;
    line-height: 1.8;
  }

  .post-content h1 {
    font-size: 2.8rem;
  }

  .post-content h2 {
    font-size: 2.4rem;
  }

  .post-content h3 {
    font-size: 2.1rem;
  }

  .post-content h4 {
    font-size: 1.8rem;
  }

  .back-to-top {
    bottom: 2rem;
    right: 2rem;
    width: 3.5rem;
    height: 3.5rem;
    font-size: 1.8rem;
  }

  .journal-item {
    flex-direction: column;
    gap: var(--space-sm);
    padding: var(--space-md) 0;
  }

  .journal-meta {
    align-self: flex-end;
  }
}

/* ================================
 * 特殊选择效果
 * ================================ */

::selection {
  background: #e6e6d5;
}

/* ================================
 * 目标元素高亮动画
 * ================================ */

:target {
  animation: target-fade 2s 1;
  -webkit-animation: target-fade 2s 1;
  background-color: #fcf3cf;
}

@keyframes target-fade {
  0% {
    background-color: #f4d03f;
  }
  100% {
    background-color: #fcf3cf;
  }
}

@-webkit-keyframes target-fade {
  0% {
    background-color: #f7dc6f;
  }
  100% {
    background-color: #fcf3cf;
  }
}

/* ================================
 * 滚动条样式
 * ================================ */

::-webkit-scrollbar {
  width: 0.6rem;
  height: 0.6rem;
}

::-webkit-scrollbar-track {
  background-color: transparent;
  border-radius: 2rem;
}

::-webkit-scrollbar-thumb {
  background-color: var(--border-color);
  border-radius: 2rem;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--border-solid);
}
